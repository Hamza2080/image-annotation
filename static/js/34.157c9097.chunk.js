(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{266:function(e,t,a){"use strict";var r=function(e,t){return e.length>=t},s=function(e){return""!==e.trim()},n=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())};t.a=function(e,t){var a=!0;for(var o in t)switch(o){case"minLength":a=a&&r(e,t[o]);break;case"isRequired":a=a&&s(e);break;case"isEmail":a=a&&n(e);break;default:a=!0}return a}},267:function(e,t,a){"use strict";var r=a(0),s=a.n(r);t.a=function(e){var t="form-control";return e.touched&&!e.valid&&(t="form-control control-error"),s.a.createElement("input",Object.assign({type:"text",className:t},e))}},268:function(e,t,a){"use strict";var r=a(0),s=a.n(r);t.a=function(e){var t="form-control";return e.touched&&!e.valid&&(t="form-control control-error"),s.a.createElement("input",Object.assign({type:"password",className:t},e))}},269:function(e,t,a){"use strict";var r=a(33),s=a(242),n=a(0),o=a.n(n),c=a(1),l=a.n(c),u=a(240),i=a.n(u),d=a(241),p={tag:d.q,className:l.a.string,cssModule:l.a.object},m=function(e){var t=e.className,a=e.cssModule,n=e.tag,c=Object(s.a)(e,["className","cssModule","tag"]),l=Object(d.m)(i()(t,"card-footer"),a);return o.a.createElement(n,Object(r.a)({},c,{className:l}))};m.propTypes=p,m.defaultProps={tag:"div"},t.a=m},272:function(e,t,a){"use strict";var r=a(262),s=a.n(r),n=a(263),o="http://134.209.196.211:3001",c=a(278),l=a.n(c);a.d(t,"b",function(){return u}),a.d(t,"d",function(){return i}),a.d(t,"a",function(){return d}),a.d(t,"c",function(){return p});var u=function(){var e=Object(n.a)(s.a.mark(function e(t){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post(o+"/login",t);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response.data;case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(n.a)(s.a.mark(function e(t){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post(o+"/sign_up",t);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response.data;case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(n.a)(s.a.mark(function e(t){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post(o+"/forget_password",t);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response.data;case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(n.a)(s.a.mark(function e(t){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post(o+"/reset_password",t);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response.data;case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},296:function(e,t,a){"use strict";t.a=function(e,t){return e===t}},557:function(e,t,a){"use strict";a.r(t);var r=a(262),s=a.n(r),n=a(263),o=a(292),c=a(85),l=a(86),u=a(88),i=a(87),d=a(89),p=a(0),m=a.n(p),f=a(266),v=(a(267),a(268)),h=a(296),w=a(272),b=a(294),g=a(248),E=a(249),j=a(251),O=a(252),k=a(377),C=a(283),N=a(284),x=a(259),y=a(250),R=a(269),P=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).changeHandler=function(e){var t=e.target.name,r=e.target.value,s=Object(o.a)({},a.state.formControls),n=Object(o.a)({},s[t]);n.value=r,n.touched=!0,n.valid=Object(f.a)(r,n.validationRules),"repeatPassword"===t&&n.valid&&(n.valid=Object(h.a)(a.state.formControls.password.value,r)),s[t]=n;var c=!0;for(var l in s)c=s[l].valid&&c;a.setState({formIsValid:c,formControls:s})},a.submitResetForm=function(){var e=Object(n.a)(s.a.mark(function e(t){var r,n,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),r={},a.state.formControls)r[n]=a.state.formControls[n].value;return console.log(r),e.prev=4,delete r.repeatPassword,e.next=8,Object(w.c)(r);case 8:o=e.sent,console.log(o),a.setState({isDanger:!1,isSuccess:!0,message:o.Message}),a.props.history.push("/login"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),a.setState({isDanger:!0,isSuccess:!1,message:e.t0.Message});case 18:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t){return e.apply(this,arguments)}}();var r=a.props.match.params.token,l=a.props.match.params.email;return a.state={isDanger:!1,isSuccess:!1,message:"",formIsValid:!1,formControls:{token:{value:r,placeholder:"tojen",valid:!0,touched:!0,validationRules:{}},email:{value:l,placeholder:"email",valid:!0,touched:!0,validationRules:{}},password:{value:"",placeholder:"Password",valid:!1,touched:!1,validationRules:{isRequired:!0}},repeatPassword:{value:"",placeholder:"Repeat password",valid:!1,touched:!1,validationRules:{isRequired:!0}}}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"resetMessage",value:function(){return this.state.isDanger?m.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.message):this.state.isSuccess?m.a.createElement("div",{className:"alert alert-success",role:"alert"},this.state.message):void 0}},{key:"render",value:function(){return m.a.createElement("div",{className:"app flex-row align-items-center"},m.a.createElement(b.a,null,m.a.createElement(g.a,{className:"justify-content-center"},m.a.createElement(E.a,{md:"9",lg:"7",xl:"6"},m.a.createElement(j.a,{className:"mx-4"},m.a.createElement(O.a,{className:"p-4"},this.resetMessage(),m.a.createElement(k.a,{onSubmit:this.submitResetForm},m.a.createElement("h1",null,"Reset Password"),m.a.createElement("p",{className:"text-muted"},"Reset Password"),m.a.createElement(C.a,{className:"mb-3"},m.a.createElement(N.a,{addonType:"prepend"},m.a.createElement(x.a,null,m.a.createElement("i",{className:"icon-lock"}))),m.a.createElement(v.a,{name:"password",placeholder:this.state.formControls.password.placeholder,value:this.state.formControls.password.value,onChange:this.changeHandler,touched:this.state.formControls.password.touched?1:0,valid:this.state.formControls.password.valid?1:0})),m.a.createElement(C.a,{className:"mb-4"},m.a.createElement(N.a,{addonType:"prepend"},m.a.createElement(x.a,null,m.a.createElement("i",{className:"icon-lock"}))),m.a.createElement(v.a,{name:"repeatPassword",placeholder:this.state.formControls.repeatPassword.placeholder,value:this.state.formControls.repeatPassword.value,onChange:this.changeHandler,touched:this.state.formControls.repeatPassword.touched?1:0,valid:this.state.formControls.repeatPassword.valid?1:0})),m.a.createElement(y.a,{color:"success",style:{cursor:"pointer"},type:"submit",disabled:!this.state.formIsValid,block:!0},"Reset Password"))),m.a.createElement(R.a,{className:"p-4"}))))))}}]),t}(p.Component);t.default=P}}]);
//# sourceMappingURL=34.157c9097.chunk.js.map