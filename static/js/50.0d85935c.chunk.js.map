{"version":3,"sources":["views/UploadImages/UploadImages.js","assets/img/custom/gif_loader.gif"],"names":["UploadImages","state","selectedOption","uploading","filesUploadSuccessfully","isDisplayError","errorMessage","handleChange","_this","setState","console","log","uploadDataset","pond","getFiles","map","fileItem","file","forEach","i","formData","FormData","append","name","value","axios","method","url","data","config","headers","Content-Type","then","response","catch","e","length","this","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","role","onClick","src","gifLoader","style","width","_this2","setTimeout","_this3","reactstrap__WEBPACK_IMPORTED_MODULE_6__","reactstrap__WEBPACK_IMPORTED_MODULE_7__","xs","marginTop","react_filepond__WEBPACK_IMPORTED_MODULE_8__","ref","allowMultiple","Component","module","exports","__webpack_require__","p"],"mappings":"6NAgBMA,4NACJC,MAAQ,CACNC,eAAgB,KAChBC,WAAY,EACZC,yBAA0B,EAC1BC,gBAAiB,EACjBC,aAAe,MAGjBC,aAAe,SAAAL,GACbM,EAAKC,SAAS,CAAEP,mBAChBQ,QAAQC,IAAR,mBAAgCT,GAChCM,EAAKC,SAAS,CACVJ,gBAAiB,OA6DrBO,cAAgB,WACRJ,EAAKP,MAAMC,gBACXM,EAAKC,SAAS,CACVN,WAAY,IAEhBK,EAAKK,KAAKC,WACTC,IAAI,SAAAC,GAAQ,OAAIA,EAASC,OACzBC,QAAQ,SAACD,EAAKE,GACX,IAAIC,EAAW,IAAIC,SACnBD,EAASE,OAAO,QAASL,EAAMA,EAAKM,MACpCH,EAASE,OAAO,WAAYd,EAAKP,MAAMC,eAAesB,OACtDC,IAAM,CACFC,OAAQ,OACRC,IAAK,+BACLC,KAAMR,EACNS,OAAQ,CAAEC,QAAS,CAACC,eAAgB,0BAEnCC,KAAK,SAAUC,MAEfC,MAAM,SAAUC,MAEjBhB,GAAKX,EAAKK,KAAKC,WAAWC,IAAI,SAAAC,GAAQ,OAAIA,EAASC,OAAMmB,OAAO,GAChE5B,EAAKC,SAAS,CACVN,WAAY,EACZC,yBAA0B,OAItCI,EAAKC,SAAS,CACVJ,gBAAiB,EACjBC,aAAe,uHAnFvB,GAAI+B,KAAKpC,MAAMI,eACX,OACIiC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAqBC,KAAK,SACpCL,KAAKpC,MAAMK,wDAUxB,OAAI+B,KAAKpC,MAAME,UAEPmC,EAAAC,EAAAC,cAAA,UACIC,UAAU,yBACVE,QAASN,KAAKzB,eAFlB,kBAGoB0B,EAAAC,EAAAC,cAAA,OAAKI,IAAKC,IAAWC,MAAO,CAACC,MAAO,WAKxDT,EAAAC,EAAAC,cAAA,UACIC,UAAU,yBACVE,QAASN,KAAKzB,eAFlB,qEAQgB,IAAAoC,EAAAX,KACxB,GAAIA,KAAKpC,MAAMG,wBAMX,OALA6C,WAAW,WACPD,EAAKvC,SAAS,CACVL,yBAA0B,KAE/B,KAECkC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBC,KAAK,SAA1C,iFA+Cb,IAAAQ,EAAAb,KACoBA,KAAKpC,MAAxBC,eACR,OACEoC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uCACbH,EAAAC,EAAAC,cAACW,EAAA,EAAD,KACEb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKC,GAAG,MACNf,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2CACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,iBAAhB,wBAyBRH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAMK,MAAO,CAAEQ,UAAW,SACvChB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACe,EAAA,SAAD,CAAUC,IAAK,SAAAA,GAAG,OAAKN,EAAKrC,KAAO2C,GAAMC,eAAe,cAhJzCC,cAwJZ1D,iCCxKf2D,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/50.0d85935c.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Col, Row } from \"reactstrap\";\nimport Select from \"react-select\";\nimport { FilePond } from \"react-filepond\";\nimport gifLoader from '../../assets/img/custom/gif_loader.gif'\nimport axios from 'axios';\nimport \"filepond/dist/filepond.min.css\";\n\nimport \"./uploadImages.css\";\n\nconst options = [\n  { value: \"person\", label: \"Person\" },\n  { value: \"tree\", label: \"Tree\" },\n  { value: \"animal\", label: \"Animal\" }\n];\n\nclass UploadImages extends Component {\n  state = {\n    selectedOption: null,\n    uploading : false,\n    filesUploadSuccessfully : false,\n    isDisplayError : false,\n    errorMessage : ''\n  };\n\n  handleChange = selectedOption => {\n    this.setState({ selectedOption });\n    console.log(`Option selected:`, selectedOption);\n    this.setState({\n        isDisplayError : false\n    })\n  };\n\n    /**\n     * check wether there is any error then display error message\n    */\n    isAnyError () {\n        if (this.state.isDisplayError) {\n            return (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                    {this.state.errorMessage}\n                </div>\n            )\n        }\n    }\n\n    /**\n     * renderUpdateBtn\n     */\n    renderUpdateBtn() {\n        if (this.state.uploading) \n            return (\n                <button\n                    className=\"btn btn-success btn-md\"\n                    onClick={this.uploadDataset}\n                    >Upload Dataset <img src={gifLoader} style={{width: \"20px\"}}></img>\n                </button>\n            )\n        else \n            return (\n                <button\n                    className=\"btn btn-success btn-md\"\n                    onClick={this.uploadDataset}\n                    >Upload Dataset\n                </button>\n            )\n    }\n\n    fileSuccessfullyUploaded () {\n        if (this.state.filesUploadSuccessfully){\n            setTimeout(() => {\n                this.setState({\n                    filesUploadSuccessfully : false\n                })\n            }, 3000);\n            return(\n                <div className=\"row d-flex justify-content-center\">\n                    <div className=\"col\">\n                        <div className=\"alert alert-success\" role=\"alert\">\n                            Congratulation! Files upload successfully.\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n    }\n\n    /**\n        * upload dataset\n    */\n    uploadDataset = () => {\n        if (this.state.selectedOption) {\n            this.setState({\n                uploading : true\n            })\n            this.pond.getFiles()\n            .map(fileItem => fileItem.file)\n            .forEach((file,i) => {\n                let formData = new FormData();\n                formData.append(\"ufile\", file, file.name);\n                formData.append('category', this.state.selectedOption.value)\n                axios({\n                    method: 'post',\n                    url: \"http://127.0.0.1:3001/upload\",\n                    data: formData,\n                    config: { headers: {'Content-Type': 'multipart/form-data' }}\n                    })\n                    .then(function (response) {\n                    })\n                    .catch(function (e) {\n                    });\n                if (i == this.pond.getFiles().map(fileItem => fileItem.file).length-1)\n                    this.setState({\n                        uploading : false,\n                        filesUploadSuccessfully : true\n                    })\n            });\n        } else {\n            this.setState({\n                isDisplayError : true,\n                errorMessage : 'please select a valid image category.'\n            })\n        }\n    };\n\n  render() {\n    const { selectedOption } = this.state;\n    return (\n      <div className=\"animated fadeIn container container\">\n        <Row>\n          <Col xs=\"12\">\n            <div className=\"d-flex justify-content-center mb-3 mt-3\">\n              <div className=\"p-2 AI-photo-head-container pb-2\">\n                <span className=\"AI-photo-head\"> Upload Dataset </span>\n              </div>\n            </div>\n          </Col>\n        </Row>\n        {/* <div className=\"row\">\n            <div className=\"col\">\n                <div className=\"row d-flex justify-content-center\">\n                    {this.isAnyError ()}\n                    {this.fileSuccessfullyUploaded()}\n                </div>\n                <div className=\"row d-flex justify-content-center\">\n                    <span className=\"col-3\" />\n                    <Select\n                        className=\"col-7\"\n                        value={selectedOption}\n                        onChange={this.handleChange}\n                        options={options}\n                    />\n                    <span className=\"col-2\">\n                        {this.renderUpdateBtn()}\n                    </span>\n                </div>\n            </div>\n        </div> */}\n        <div className=\"row\" style={{ marginTop: \"30px\" }}>\n          <div className=\"col\">\n            <FilePond ref={ref => (this.pond = ref)} allowMultiple={true}/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UploadImages;\n","module.exports = __webpack_public_path__ + \"static/media/gif_loader.b64557d5.gif\";"],"sourceRoot":""}